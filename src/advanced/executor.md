# 执行器

## 通用参数

### `执行器类型`

- 类型：`Literal`
- 默认值：`施力`

### `后继执行器编号`

- 类型：`int`
- 默认值：`0`

同一物理帧内的所有执行器按制图器中的顺序构成树，前序遍历依次执行。

## 施力

### `目标编号`

- 类型：`list[int]`
- 默认值：`[]`

开始执行时，这些物体会受力 **（无论它们在哪里）**。

::: details 例如可以这样

![](/images/executor-add-force.gif)

:::

### `施力模式`

- 类型：`Literal`
- 默认值：`附加加速度`

| 施力模式   | 触发器类型为停留时 | 否则         |
| ---------- | ------------------ | ------------ |
| 附加恒力   | 恒力场             | 恒冲量发生器 |
| 设定速度   | 恒速器             | 瞬时变速器   |
| 附加加速度 | 恒加速度场         | 恒速度附加器 |

### `受力方向`

- 类型：`Literal`
- 默认值：`朝向 Y 轴`

### `力度`

- 类型：`float`
- 默认值：`0`

负数表示反方向。

### `使用衰减`

- 类型：`bool`
- 默认值：`false`

勾选此项时，物体离触发器越远受力越小。

## 设置重生点

### `变换标记`

- 类型：`str`
- 默认值：空

## 跟随路径

### `路径编号`

- 类型：`int`
- 默认值：`0`
- 限制：`i: i > 0`

### `目标编号`

- 类型：`int...`
- 默认值：空
- 限制：`i: i > 0`

### `启用相对位置`

- 类型：`bool`
- 默认值：`false`

### `启用相对旋转`

- 类型：`bool`
- 默认值：`false`

### `旋转时对齐切线`

- 类型：`bool`
- 默认值：`false`

### `旋转对齐偏移`

- 类型：`float` `float` `float`
- 默认值：`0` `0` `0`

### `刚体模式`

- 类型：`bool`
- 默认值：`false`

在刚体模式下，存在一个中心由 `路径` 控制移动，力度受 `控制刚体力度` 影响，半径由 `控制刚体距离` 决定的向心恒力场，`目标` 刚体在这一恒力场的牵引下运动。

### `控制刚体力度` <badge text="刚体模式 = true"/>

- 类型：`float`
- 默认值：`0`

### `控制刚体距离` <badge text="刚体模式 = true"/>

- 类型：`float`
- 默认值：`0`
- 限制：`x: x >= 0`

刚体超出这一距离时不会受力，回到距离内会继续受力。

### `在生命开始时执行`

- 类型：`bool`
- 默认值：`false`

生命开始时执行的执行器不需要被触发器绑定。

## 断开关节

### `目标编号`

- 类型：`list[int]`
- 默认值：`[]`

开始执行时，这些关节将断开，所有相关约束解除。

## 设置摄像机偏移

### `摄像机偏移`

- 类型：`float` `float` `float>`
- 默认值：`0` `4` `-3.5`

## 设置变量值

### `目标变量`

- 类型：`str`
- 默认值：空

### `表达式`

- 类型：`str`
- 默认值：空

可以使用 `+-*/()` 进行数学运算，使用 `@name ` （注意尾随空格）引用其它变量。

## 比较变量

### `变量 A`

- 类型：`str`
- 默认值：空

### `变量 B`

- 类型：`str`
- 默认值：空

### `相等阈值`

- 类型：`float`
- 默认值：`0`

::: tip

以下条件分支不会熔断，所有满足的分支连同 `后继执行器` 前序遍历执行。

:::

### `相等`

- 类型：`int`
- 默认值：`0`

`|A - B| <= ε` 时执行该执行器。

### `不相等`

- 类型：`int`
- 默认值：`0`

`|A - B| > ε` 时执行该执行器。

### `大于`

- 类型：`int`
- 默认值：`0`

`A > B` 时执行该执行器。

### `小于`

- 类型：`int`
- 默认值：`0`

`A < B` 时执行该执行器。

## 禁用玩家按键

### `禁用按键`

- 类型：`bool`
- 默认值：`true`

### `玩家按键`

- 类型：`Literal`
- 默认值：`向前移动`

## 切换摄像机目标

### `摄像机目标编号`

- 类型：`int`
- 默认值：`0`

仅对物理物体和主球 `ID = -99` 有效。
