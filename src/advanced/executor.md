# 执行器

## 通用参数

### `执行器类型`

- 类型：`enum{施力, 播放音频, 设置重生点, 玩家死亡, 游戏结束, 完成关卡, 跟随路径, 断开关节}`
- 默认值：`施力`

### `后继执行器编号`

- 类型：`int`
- 默认值：`0`

如果前一执行器为瞬时执行器，后一执行器将同时开始执行；否则后一执行器在前一执行器完成后开始执行。

## 施力

### `目标编号`

- 类型：`Tuple<int, int[]>`
- 默认值：`(0, [])`
- 限制：`(n, l): n >= 0`

开始执行时，这些物体会受力 **（无论它们在哪里）**。

::: details 例如可以这样

![](/images/executor-add-force.gif)

:::

### `施力模式`

- 类型：`enum{附加恒力, 设定速度, 附加加速度}`
- 默认值：`附加加速度`

| 施力模式   | 触发器类型为停留时 | 否则         |
| ---------- | ------------------ | ------------ |
| 附加恒力   | 恒力场             | 恒冲量发生器 |
| 设定速度   | 恒速器             | 瞬时变速器   |
| 附加加速度 | 恒加速度场         | 恒速度附加器 |

### `受力方向`

- 类型：`enum{朝向 Y 轴, 朝向中心}`
- 默认值：`朝向 Y 轴`

### `力度`

- 类型：`float`
- 默认值：`0`

负数表示反方向。

### `使用衰减`

- 类型：`bool`
- 默认值：`false`

勾选此项时，物体离触发器越远受力越小。

## 播放音频

### `音频`

_待补充_

### `音量`

- 类型：`float`
- 默认值：`1`
- 限制：`v: 0 <= v <= 1`

### `循环`

- 类型：`bool`
- 默认值：`false`

### `关卡开始时执行`

- 类型：`bool`
- 默认值：`false`

## 设置重生点

### `变换标记`

- 类型：`str`
- 默认值：空

## 跟随路径

### `路径 ID`

- 类型：`int`
- 默认值：`0`
- 限制：`i: i > 0`

### `目标编号`

- 类型：`int...`
- 默认值：空
- 限制：`i: i > 0`

### `启用相对位置`

- 类型：`bool`
- 默认值：`false`

### `启用相对旋转`

- 类型：`bool`
- 默认值：`false`

### `旋转时对齐切线`

- 类型：`bool`
- 默认值：`false`

### `旋转对齐偏移`

- 类型：`Tuple<float, float, float>`
- 默认值：`(0, 0, 0)`

### `刚体模式`

- 类型：`bool`
- 默认值：`false`

在刚体模式下，存在一个中心由 `路径` 控制移动，力度受 `控制刚体力度` 影响，半径由 `控制刚体距离` 决定的向心恒力场，`目标` 刚体在这一恒力场的牵引下运动。

### `控制刚体力度` <badge text="刚体模式 = true"/>

- 类型：`float`
- 默认值：`0`

### `控制刚体距离` <badge text="刚体模式 = true"/>

- 类型：`float`
- 默认值：`0`
- 限制：`x: x >= 0`

刚体超出这一距离时不会受力，回到距离内会继续受力。

### `在生命开始时执行`

- 类型：`bool`
- 默认值：`false`

生命开始时执行的执行器不需要被触发器绑定。

## 断开关节

### `目标编号`

- 类型：`Tuple<int, int[]>`
- 默认值：`(0, [])`
- 限制：`(n, l): n >= 0`

开始执行时，这些关节将断开，所有相关约束解除。
