# 网格系统

如果内置的元件无法满足你的制图需求，你可以考虑自行建模。

## 导入模型

在三维软件建模后，将模型导出为 `.fbx` 或 `.obj` 格式。

在 `素材` → `网格` 窗口中，点击右栏加号，选择模型即可导入。

::: tip

BME Pro 中的单位为米，轴向为 `X` 轴向右，`Y` 轴向上，`Z` 轴向前，为左手系，请建模时注意。

对于 `.fbx` 格式，要求**必须为文本 (ASCII) 格式**，推荐使用 7.4 (2014/2015) 版本并三角化面。

对于 `.obj` 格式，无论建模软件中设置如何，**只能使用一个材质**，该材质将作用于所有面。

:::

## 使用网格

从 `素材` → `网格` 窗口将网格直接拖入场景即可，在 `检视器` 窗口中可添加材质并指定更多参数。

### `模型网格`

- 类型：`Model`
- 默认值：当前网格

该元件**显示**的网格。

### `材质`

- 类型：`Tuple<int, Material[]>`
- 默认值：`(0, [])`
- 限制：`(n, l): n >= 0`

对应关系与建模软件中的设定一致。

### `碰撞箱类型`

- 类型：`enum{长方体, 球体, 网格}`
- 默认值：`网格`

### `偏移`

- 类型：`Tuple<float, float, float>`
- 默认值：`(0, 0, 0)`

### `尺寸` <badge text="碰撞箱类型 = 长方体"/>

- 类型：`Tuple<float, float, float>`
- 默认值：`(1, 1, 1)`
- 限制：`(x, y, z): x > 0 && y > 0 && z > 0`

### `圆角半径` <badge text="碰撞箱类型 = 长方体"/>

- 类型：`float`
- 默认值：`0.02`
- 限制：`x: x >= 0`

### `半径` <badge text="碰撞箱类型 = 球体"/>

- 类型：`float`
- 默认值：`0.5`
- 限制：`x: x > 0`

### `网格覆写` <badge text="碰撞箱类型 = 网格"/>

- 类型：`Model`
- 默认值：空

该元件**碰撞箱**的网格。如果未设定，将与显示网格一致。

### `物理体类型`

- 类型：`enum{静态, 运动学刚体, 刚体, 装饰, 碰撞箱}`
- 默认值：`静态`

- 静态：完全静止。如：地面。
- 运动学刚体：静止，只能通过执行器调整位姿。如：移动路面。
- 刚体：参与物理模拟，将受到各种力的影响。如：箱子。
- 装饰：只显示外观，没有碰撞箱。
- 碰撞箱：只有碰撞箱，在游戏中不显示。如：隐形路面。

### `质量` <badge text="物理体类型 = 刚体"/>

- 类型：`float`
- 默认值：`1`
- 限制：`m: m > 0`

### `线性阻力` <badge text="物理体类型 = 刚体"/>

- 类型：`float`
- 默认值：`0.5`
- 限制：`x: x >= 0`

### `旋转阻力` <badge text="物理体类型 = 刚体"/>

- 类型：`float`
- 默认值：`0.05`
- 限制：`x: x >= 0`

### `重力因数` <badge text="物理体类型 = 刚体"/>

- 类型：`float`
- 默认值：`1`

`1` 为正常重力，`0` 为无重力，负数为反重力。

### `物理材质`

- 类型：`enum{石, 木, 钢, 冰, 橡胶, 机关垫板}`
- 默认值：`石`

影响弹力、表面摩擦系数等物理性质。

### `物理音频组`

- 类型：`enum{石, 木, 钢}`
- 默认值：`石`

影响碰撞音效等游戏效果。
