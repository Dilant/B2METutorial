# 基本操作

## 设置地图信息

`文件 → 导出 BMS`

请至少设定 `初始球类型`，然后点击 `应用` 保存。如果你已规划好其它信息，可以一并填入。

## 设置天空盒

设置合适的天气，然后勾选 `在编辑器中显示`。

如果没有天空盒，可在 `创建 → 天空盒` 创建。

## 保存

`文件 → 保存场景` / `Ctrl + S`

保存后的地图会在 `素材 → 场景` 面板中出现，可以双击打开。

::: tip

地图实际保存位置为：`%USERPROFILE%\AppData\LocalLow\Mushreb\BME Pro\Assets\Scenes\`

:::

## 添加元件

在 `素材 → 元件` 面板中找到需要的元件，拖入 `场景` 窗口，即可添加元件。你会在 `层级` 窗口的列表末尾看到它，并可在 `检视器` 窗口中调整它的位置，姿态，缩放和其它提供的参数。

现在，你可以任意拖入一些元件摆弄一番了。之后会讲方便得多的调整方法。

## 撤销

`编辑 → 撤销` / `Ctrl + Z`，对应右上角工具栏第一个按钮。

请勿过分依赖撤销操作，进行破坏性操作前请注意备份。

## 重做

`编辑 → 重做` / `Ctrl + Y`，对应右上角工具栏第二个按钮。

## 视图调整

### 平移视图

按住 `鼠标中键` 或 `鼠标右键` 并拖动。

### 旋转视图

按住 `Alt + 鼠标左键` 并拖动。

### 缩放视图

使用 `鼠标滚轮`。

### 漫游

按住 `Alt + 鼠标右键` 进入漫游模式。拖动改变摄像机朝向，按住 `W` 前进，`S` 后退，`A` 左移，`D` 右移，`Q` 下降，`E` 上升。

### 聚焦

`F`

该功能将自动调整视图，使选定元件位于视野中心，并改变视图调整中心点为当前位置。

::: tip

所有视图调整操作的效果都与视图调整中心点有关。如果调整时遇到困难，可以尝试使用聚焦功能改变视图调整中心。

:::

### 三视图

点击右上角坐标轴箭头。

### 切换透视 / 正交视角

右上角坐标轴下方显示了当前视角（透视 `Persp` / 正交 `Ortho`），点击即可切换。正交视角在精调布局时很有用。

## 元件调整

### 观察模式

`Q`，对应右上角工具栏第 3 个按钮。

该模式下无法选中元件，也无法对元件作任何调整，~~防止手贱~~ 一般没什么用。

### 移动模式

`W`，对应右上角工具栏第 4 个按钮。

拖动三个坐标轴箭头在该方向内移动元件，或拖动面符号在该面内移动元件。

### 旋转模式

`E`，对应右上角工具栏第 5 个按钮。

拖动三个有色圆弧在对应面内旋转元件，或拖动白色大圆在投影面内旋转元件，或拖动圆面 ~~放飞自我~~ 自由旋转元件。

### 缩放模式

`R`，对应右上角工具栏第 6 个按钮。

拖动三个操作柄在该方向内缩放元件。可以拖动到负半轴，此时元件会变为原来的镜像。

::: warning

对于固定元件，多数情况下不需要缩放；对于机关，多数机关缩放后会引发意外性质。因此在有其它可行方案时，请不要缩放元件。

:::

### 标尺模式

`T`，对应右上角工具栏第 7 个按钮。

拖动矩形边角处的操作柄缩放元件，会实时显示当前尺寸。[旋转视图](#旋转视图)可以切换到另一平面操作。

### 量化

`Ctrl` / `Shift`，按住开启，松开关闭。

在量化开启时，可以以 0.5 为单位移动，以 15° 为单位旋转，以相对当前大小 50% 为单位缩放，以 0.5 为单位对齐标尺。

## 多选

在 `场景` 窗口中多选：按住 `Shift` 逐个单选，或按住 `鼠标左键` 框选。
在 `层级` 窗口中多选：可按照通用多选方法配合 `Ctrl` `Shift` 多选。

::: tip

在 `场景` 窗口中多选时，碰撞箱**任意部位**进入选框即视为选中。

为了尽量避免选中不需要的元件，建议使用[俯视](#三视图)视角操作。

:::

## 复制元件

`编辑 → 复制` / `Ctrl + D`

按下后在原位生成一个新元件，出现在 `层级` 窗口列表末尾。

虽然但是，没有 `Ctrl + X` `Ctrl + C` `Ctrl + V`。

## 删除元件

`编辑 → 删除` / `Delete`

## 创建起点、检查点和终点

`素材 → 元件 → CheckPoint`

检查点不分顺序，可以多次触发，始终从最后一次点亮的检查点重生。

玩家球进入终点即通关，不必点亮所有检查点。

## 测图

`文件 → 导出 BMS → 测图`

如果正确[设置了 Ballex² 路径](/start/preparation.md#设置-ballex2-路径)，Ballex² 将自动启动。

::: tip

测图模式无法激活终点。

为了方便测图，可以从 `素材 → 元件 → TestMapTools` 添加辅助工具。

:::

### 截图

`F5`

截图默认为 1920×1080 `.jpg` 文件，保存在 `%USERPROFILE%\AppData\LocalLow\Mushreb\Ballex²\Screenshots\`。

### 变量检视器

`F6`

参见：[进阶 → 变量系统](/advanced/variable-system.md)
