# 多人联机

## 加入服务器

在主界面按 `F4`，当聊天框中出现加入提示，即为加入成功。
再次按 `F4` 可断开连接。

## 聊天

按 `` ` `` 改变聊天框可见性。

默认消息发送机制为：

- 若在房间中，消息将发送给同一房间内的玩家
- 若在关卡中（但不在任何房间内），消息将发送给同一关卡中（但不在任何房间内）的玩家
- 若在主界面，消息将发送给也在主界面的玩家

## 命令

### <code>/g <em>message</em></code>

发送全服消息。

### `/list`

列出服务器内所有玩家。

### `/np`

将自己正在游玩的关卡广播给所有玩家。

## 事件广播

以下事件将广播给所有玩家：

- 加入服务器
- 离开服务器
- 关卡结算

以下事件将广播给同一关卡中（但不在任何房间内）的玩家：

- 进入关卡
- 退出关卡

以下事件将广播给同一房间中的玩家：

- 加入房间
- 离开房间

## 房间

::: tip

对战模式与普通模式有以下不同：

- 不允许重开
- 不允许暂停，`Esc` 调出暂停界面时物理模拟和计分仍然继续
- 死亡或自杀时，死亡动画与重生动画仍然计时计分

:::

### 创建房间

加入关卡后 <code>/create <em>mode</em> <em>password</em></code>

模式可选高分 `hs` 或速通 `sr`，将会决定排名方式。

服务器将返回房间号，同时自己加入该房间并成为房主。

### 加入房间

加入对应关卡后 <code>/join <em>room</em> <em>password</em></code>

### 离开房间

`Esc` 退出关卡即可，房主离开将解散房间。

### 准备

`/ready`

再次输入可取消准备。

### 踢人

<code>/kick <em>player</em></code>

仅房主可使用，将指定玩家踢出房间。若比赛尚未开始且房间未满，该玩家可重新加入。

### 开始

`/start`

仅房主可使用，所有玩家将同时起跑。

### 重开

`/restart`

仅房主可使用，本场比赛立即结束，所有玩家回到起点。
